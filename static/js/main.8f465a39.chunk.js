(this["webpackJsonpproton-blog"]=this["webpackJsonpproton-blog"]||[]).push([[0],{154:function(e,t,a){},155:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),c=a(13),r=a.n(c),s=(a(154),a(9)),l=a(11),o=(a(155),a(18)),d=a(29),j="SET_PUBLISH_DATA",u="UNSET_PUBLISH_DATA",b="TOGGLE_EDITING",h="SET_EDITING_DATA",m="SET_ADMIN_ACCESS",p=a(296),g=a(276),O=a(275),v=a(289),x=a(278),f=a(277),y=a(290),N=a(116),w=a.n(N),S=a(51),A=a(270),I=a(274),D=a(293),k=a(291),C=a(2);function E(e){return Object(C.jsx)(k.a,Object(s.a)({elevation:6,variant:"filled"},e))}var T=Object(A.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function L(e){var t=T(),a=n.a.useState(!0),i=Object(l.a)(a,2),c=i[0],r=i[1],s=function(e,t){"clickaway"!==t&&r(!1)};return Object(C.jsx)("div",{className:t.root,children:Object(C.jsx)(D.a,{open:e.open&&c,autoHideDuration:parseInt(e.timer),onClose:s,children:Object(C.jsx)(E,{onClose:s,severity:e.severity,children:e.message})})})}var _=a(14),P=a.n(_),R=(a(178),Object(A.a)((function(e){return{paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(1.5,0,2)}}})));var U=Object(d.b)(null,(function(e){return{setAdminAccess:function(t){return e({type:m,adminAccess:t})}}}))((function(e){var t=R(),a=Object(i.useState)({title:"Sign up",info:"Already have an account? Sign in"}),n=Object(l.a)(a,2),c=n[0],r=n[1],o=Object(i.useState)({message:"",severity:""}),d=Object(l.a)(o,2),j=d[0],u=d[1],b=Object(i.useState)([!1,!1,!1,!1,!1]),h=Object(l.a)(b,2),m=h[0],N=h[1],A=Object(i.useState)([!1,!1]),D=Object(l.a)(A,2),k=D[0],E=D[1],T=Object(i.useState)(""),_=Object(l.a)(T,2),U=_[0],W=_[1];Object(i.useEffect)((function(){var e=Array(5).fill(!1);N(e);var t=Array(2).fill(!1);E(t),W("")}),[c.title]);var F=function(e){var t=!0;return t&=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)},G=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Signup";u((function(e){return Object(s.a)(Object(s.a)({},e),{},{message:"Authentication Successful",severity:"success"})})),localStorage.setItem("token",t.token),localStorage.setItem("first_name",t.first_name),localStorage.setItem("last_name",t.last_name),localStorage.setItem("email",t.email),console.log("Admin user=>",t.isAdmin),e.setAdminAccess(t.isAdmin);var i="/";setTimeout((function(){console.log("redirecting after",a),e.history.push(i)}),1200)},B=function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=!1;if("Signup"===e){var c=Array(6).fill(!1);t.first_name.trim().length<3&&(c[0]=!0),t.last_name.trim().length<3&&(c[1]=!0),F(t.email)||(c[2]=!0),a.trim().length<5&&(c[3]=!0),(a!==i||c[4])&&(c[4]=!0);for(var r=0;r<5;++r)c[r]&&(n=c[r]);N(c)}else{var l=Array(2).fill(!1);F(t.email)||(l[0]=!0),a.trim().length<5&&(l[1]=!0);for(var o=0;o<2;++o)l[o]&&(n=l[o]);E(l)}return n&&u((function(e){return Object(s.a)(Object(s.a)({},e),{},{message:"Please check your entries",severity:"error"})})),n},M=function(e){e.response?(u((function(t){return Object(s.a)(Object(s.a)({},t),{},{message:"".concat(e.response.data),severity:"error"})})),W(e.response.data)):(u((function(e){return Object(s.a)(Object(s.a)({},e),{},{message:"Some Error Occured",severity:"error"})})),W("Some Error Occured"))},z=function(e){return(e=e.trim())[0].toUpperCase()+e.substr(1)},H=null,q=null,J=null;"Sign up"===c.title&&(q=Object(C.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"first_name",label:"First Name",id:"first_name",autoFocus:!0,error:m[0]}),J=Object(C.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"last_name",label:"Last Name",id:"last_name",error:m[1]}),H=Object(C.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password2",label:"Re-enter Password",type:"password",id:"password2",autoComplete:"password2",error:m[4],helperText:m[4]?"Passwords (Case-Sensitive) must match":""}));var Y=U,V=null;return""!==j.message&&(V=Object(C.jsx)(L,{severity:j.severity,open:!0,message:j.message,timer:"2000"}),setTimeout((function(){u((function(e){return Object(s.a)(Object(s.a)({},e),{},{message:"",severity:""})}))}),2e3)),Object(C.jsxs)(I.a,{className:"auth-form-container",component:"main",maxWidth:"xs",children:[Object(C.jsx)(O.a,{}),Object(C.jsxs)("div",{className:t.paper,children:[Object(C.jsxs)(S.a,{component:"h1",variant:"h5",style:{paddingTop:"20px",paddingLeft:"8px"},children:["User ","Sign up"===c.title?"Registration":"Log in"]}),Object(C.jsx)(p.a,{className:t.avatar,children:Object(C.jsx)(w.a,{})}),Object(C.jsx)(S.a,{component:"h1",variant:"h5",children:c.title}),Object(C.jsxs)("form",{className:"auth-form",onSubmit:function(e){return function(e){if(e.preventDefault(),"Sign up"===c.title){var t=z(e.target[0].value),a=z(e.target[2].value),i=e.target[4].value,n=e.target[6].value,r=e.target[8].value,s={password:n,email:i,first_name:t,last_name:a};B("Signup",s,n,r)||P.a.post("/api/signup",s).then((function(e){G(e.data)})).catch((function(e){M(e)}))}else{var l=e.target[0].value,o=e.target[2].value,d={email:l,password:o};B("Signin",d,o)||P.a.post("/api/signin",d).then((function(e){G(e.data,"Signin")})).catch((function(e){M(e)}))}}(e)},classes:{input:t.authInput},children:[q,J,Object(C.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"email",label:"Email Address",id:"email",autoComplete:"email",error:m[2]||k[0]}),Object(C.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"password",error:m[3]||k[1],helperText:m[3]||k[1]?"Password must be 6 or more characters long":""}),H,Object(C.jsx)("div",{children:Y}),Object(C.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:c.title}),Object(C.jsx)(f.a,{container:!0,children:Object(C.jsx)(f.a,{item:!0,style:{paddingBottom:"20px",paddingTop:"10px"},children:Object(C.jsx)(x.a,{href:"#",variant:"body2",onClick:function(){"Sign in"===c.title?r((function(e){return Object(s.a)(Object(s.a)({},e),{},{title:"Sign up",info:"Already have an account? Sign in"})})):r((function(e){return Object(s.a)(Object(s.a)({},e),{},{title:"Sign in",info:"New User? Sign up"})}))},children:c.info})})})]})]}),Object(C.jsx)(y.a,{mt:8}),V]})})),W=(a(180),a(76)),F=(a(181),a.p+"static/media/image.a4f8c846.png"),G=a(75),B=a.n(G),M=a(74),z=a.n(M),H=a(73),q=a.n(H),J=a(279),Y=a(56);var V=Object(o.g)((function(e){var t=Object(i.useState)(Array(e.data.length).fill(!1)),a=Object(l.a)(t,2),n=a[0],c=a[1],r=function(t){n[t]?P.a.post("/api/article/dislike",{_id:e.data[t]._id}).then((function(e){})).catch((function(e){})):P.a.post("/api/article/like",{_id:e.data[t]._id}).then((function(e){})).catch((function(e){}));var a=Object(W.a)(n);a[t]=!a[t],c(a)},s=e.data.map((function(t,a){var i=F;t.coverImage&&(i="https://free4store.blob.core.windows.net/blog-images/".concat(t.coverImage));var c=t.description.search("</p>"),s=t.description.slice(t.description.search("<p>"),t.description.search("</p>"))+"...</p>";return c+3>300&&(s=t.description.slice(t.description.search("<p>"),300)+"...</p>"),Object(C.jsxs)("div",{className:"la-article-container",children:[Object(C.jsx)("div",{className:"la-article-image-div",children:Object(C.jsx)("img",{src:i,alt:"article",className:"la-article-image"})}),Object(C.jsx)("div",{className:"la-article-info-div",children:Object(C.jsxs)("div",{className:"la-article-info",children:[Object(C.jsxs)("div",{className:"la-article-body",children:[Object(C.jsxs)("div",{className:"la-article-user-body",children:[Object(C.jsx)(q.a,{style:{width:"20px",marginRight:"4px",paddingTop:"1px"}}),Object(C.jsx)("div",{className:"la-article-user",children:t.user.name})]}),Object(C.jsx)("div",{className:"la-article-title",children:t.title}),Object(C.jsx)("div",{className:"la-article-content",children:Object(Y.a)(s)})]}),Object(C.jsxs)("div",{className:"la-article-readmore-div",children:[Object(C.jsx)(g.a,{variant:"contained",size:"small",classes:{root:"read-more-btn"},onClick:function(t){return e.viewArticle(a,"la")},children:"Read More"}),n[a]?Object(C.jsx)(B.a,{onClick:function(){return r(a)},htmlColor:"red",style:{width:"15px",marginLeft:"8px"},className:"la-like-icon"}):Object(C.jsx)(z.a,{onClick:function(){return r(a)},htmlColor:"red",style:{width:"15px",marginLeft:"8px"},className:"la-like-icon"})]})]})}),Object(C.jsx)(J.a,{classes:{root:"divider-root"},variant:"fullWidth"})]},a)}));return Object(C.jsx)("div",{className:"la-container",children:s})}));a(196);function K(e){var t=new Date(e),a=new Array;return a[0]="Jan",a[1]="Feb",a[2]="Mar",a[3]="Apr",a[4]="May",a[5]="June",a[6]="July",a[7]="Aug",a[8]="Sept",a[9]="Oct",a[10]="Nov",a[11]="Dec",a[t.getMonth()]+" "+t.getDate()}a(197);var $=a(294),Q=a(280),X=a(292),Z=a(297);function ee(e){var t=Object(i.useState)(0),a=Object(l.a)(t,2),n=a[0],c=a[1];for(var r=e.length,s=Math.round(Math.ceil(r/e.divider)),o=[],d=function(t){o.push(Object(C.jsx)(Q.a,{className:"stepper-step",onClick:function(){return function(t){c(t),e.stepperClick(t)}(t)},children:Object(C.jsx)(X.a,{})},t))},j=0;j<s;++j)d(j);return Object(C.jsx)($.a,{separator:"","aria-label":"breadcrumb",children:Object(C.jsx)(Z.a,{nonLinear:!0,activeStep:n,children:o})})}var te=function(e){var t=Object(i.useState)(0),a=Object(l.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)([]),s=Object(l.a)(r,2),o=s[0],d=s[1];return Object(i.useEffect)((function(){P.a.get("/api/article/latest").then((function(e){!function(e){var t=10*n,a=Math.min(t+10,e.length);d(e.slice(t,a))}(e.data)})).catch((function(e){console.log(e)}))}),[e.location]),Object(i.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[n]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"landing-page-container",children:Object(C.jsx)("div",{className:"landing-page-la-container",children:o.length?Object(C.jsx)(V,{data:o,viewArticle:function(t,a){return function(t,a){var i,c;"la"===a&&(i=10,c=o);var r=i*n+t;localStorage.setItem("articleId",c[r]._id),e.history.push("/viewarticle")}(t,a)},articleNumber:n}):Object(C.jsx)("p",{style:{background:"white",fontSize:"25px"},children:"Articles Coming Soon.."})})}),o.length>10?Object(C.jsx)("div",{className:"landing-page-footer",children:Object(C.jsx)(ee,{length:o.length,divider:10,stepperClick:function(e){c(e)}})}):null]})},ae=a(27),ie=a(4),ne=a(26),ce=a(298),re=a(273),se=a(269),le=a(121),oe=a.n(le),de=a(122),je=a.n(de),ue=a(123),be=a.n(ue),he=a(281),me=a(282),pe=a(283),ge=a(117),Oe=a.n(ge),ve=a(118),xe=a.n(ve),fe=a(119),ye=a.n(fe),Ne=a(120),we=a.n(Ne),Se=Object(A.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(s.a)(Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}}));function Ae(e){var t=Se(),a=Object(ne.a)(),i=n.a.useState(!1),c=Object(l.a)(i,2),r=c[0],s=c[1],o=function(t){s(!1),t===e.list.length-1&&(e.logout(),localStorage.clear())},d=[Object(C.jsx)(Oe.a,{}),Object(C.jsx)(xe.a,{}),Object(C.jsx)(ye.a,{}),Object(C.jsx)(we.a,{})];return Object(C.jsxs)("div",{className:t.root,children:[Object(C.jsx)(se.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){s(!0)},className:Object(ie.a)(r&&t.hide),children:Object(C.jsx)(oe.a,{})}),Object(C.jsxs)(ce.a,{className:r?t.drawer:t.hide,variant:"temporary",anchor:"right",open:r,classes:{paper:t.drawerPaper},children:[Object(C.jsx)("div",{className:t.drawerHeader,children:Object(C.jsx)(se.a,{onClick:o,children:"rtl"===a.direction?Object(C.jsx)(je.a,{}):Object(C.jsx)(be.a,{})})}),Object(C.jsx)(J.a,{}),Object(C.jsx)(re.a,{children:e.list.map((function(t,a){return Object(C.jsx)(ae.b,{to:t.path,style:{textDecoration:"none"},children:Object(C.jsxs)(he.a,{button:!0,onClick:function(e){return o(a)},children:[Object(C.jsx)(me.a,{children:4===e.list.length?d[a]:d[a+1]}),Object(C.jsx)(pe.a,{primary:t.name})]})},t.name)}))}),Object(C.jsx)(J.a,{})]})]})}a(198);var Ie=Object(o.g)((function(e){var t=localStorage.getItem("first_name"),a=e.history.location.pathname,n="/writearticle"===a,c=[{name:"BLOG",path:"/landingpage"},{name:"LOGIN",path:"/authentication"}];e.isLogged&&(c.splice(1,1),c.push({name:"LOGOUT",path:"/"})),e.isLogged&&e.isAdmin&&(c=[{name:"WRITE",path:"/writearticle"},{name:"YOUR ARTICLE",path:"/yourarticles"},{name:"BLOG",path:"/landingpage"},{name:"LOGOUT",path:"/authentication"}],n&&c.splice(0,1));var r=Object(i.useState)(!1),s=Object(l.a)(r,2),o=s[0],d=s[1];function j(){d(!1),e.publishArticle()}Object(i.useEffect)((function(){o&&(P.a.get("/api/article/nopublish").then().catch((function(e){console.log(e.message)})),e.clearPublishData(),console.log("Publish data cleared")),d(n)}),[a]);var u=Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ae.c,{activeClassName:"active-link",exact:!0,to:"/landingpage",style:{textDecoration:"none"},children:Object(C.jsx)(g.a,{variant:"outlined",classes:{root:"navbar-button",label:"navbar-button-label"},style:{marginRight:"8px",padding:"4px 5px"},children:"Blog"})}),e.isLogged?Object(C.jsx)(ae.c,{exact:!0,to:"/",style:{textDecoration:"none"},children:Object(C.jsx)(g.a,{onClick:function(){return e.logout()},classes:{root:"navbar-button",label:"navbar-button-label"},style:{padding:"4px 5px"},children:"Logout"})}):Object(C.jsx)(ae.c,{exact:!0,to:"/authentication",style:{textDecoration:"none"},children:Object(C.jsx)(g.a,{onClick:function(){localStorage.clear()},classes:{root:"navbar-button",label:"navbar-button-label"},style:{padding:"4px 5px"},children:"Login"})})]}),b=null;return e.isAdmin&&(b=Object(C.jsxs)(C.Fragment,{children:[o?Object(C.jsx)(g.a,{variant:"outlined",onClick:function(){return j()},classes:{root:"navbar-button",label:"navbar-button-label"},style:{marginRight:"8px",padding:"4px 5px",backgroundColor:"#6e81eb",color:"white"},children:"Publish"}):Object(C.jsx)(ae.c,{activeClassName:"active-link",to:"/writearticle",style:{textDecoration:"none"},children:Object(C.jsx)(g.a,{variant:"outlined",classes:{root:"navbar-button",label:"navbar-button-label"},style:{marginRight:"8px",padding:"4px 5px"},children:"Write"})}),Object(C.jsx)(ae.c,{activeClassName:"active-link",exact:!0,to:"/yourarticles",style:{textDecoration:"none"},children:Object(C.jsx)(g.a,{variant:"outlined",classes:{root:"navbar-button",label:"navbar-button-label"},style:{marginRight:"8px",padding:"4px 5px"},children:"Your Article"})})]})),Object(C.jsxs)("div",{className:"navbar-container",children:[Object(C.jsx)("div",{className:"navbar-info",children:Object(C.jsxs)("h2",{children:["ProtonAutoML | ",t?"Welcome ".concat(t).concat(e.isAdmin?" (".concat(e.isAdmin?"Admin":"",")"):"",","):"Own Your Data"]})}),Object(C.jsx)("div",{className:"navbar-secondary-publish-button",children:o?Object(C.jsx)(g.a,{variant:"outlined",onClick:function(){return j()},classes:{label:"navbar-button-label"},style:{marginRight:"8px",padding:"4px 5px",backgroundColor:"#6e81eb",color:"white"},children:"Publish"}):null}),Object(C.jsxs)("div",{className:"navbar-buttons-container",children:[Object(C.jsx)("div",{className:"navbar-sidedrawer",children:Object(C.jsx)(Ae,{logout:e.logout,list:c})}),Object(C.jsxs)("div",{className:"navbar-buttons-div",children:[b,u]})]})]})})),De=(a(199),a(295)),ke=a(124),Ce=a(125),Ee=a.n(Ce);var Te=Object(d.b)(null,(function(e){return{changePublishData:function(t){return e({type:j,data:t})}}}))((function(e){var t=Object(i.useState)(""),a=Object(l.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)(""),s=Object(l.a)(r,2),o=s[0],d=s[1],j=Object(i.useState)(""),u=Object(l.a)(j,2),b=u[0],h=u[1];return Object(i.useEffect)((function(){e.location.state&&e.location.state.post.coverImage&&h("https://free4store.blob.core.windows.net/blog-images/".concat(e.location.state.post.coverImage))}),[e.location.state]),Object(C.jsx)("div",{className:"wa-article-container",children:Object(C.jsxs)("div",{className:"wa-article-body",children:[Object(C.jsxs)("div",{className:"wa-article-title-container",children:[Object(C.jsx)(De.a,{style:{textAlign:"left",marginBottom:"10px",paddingLeft:"4px"},htmlFor:"filled-size-small",children:"Title"}),Object(C.jsx)(v.a,{autoFocus:!0,label:"",id:"filled-size-small",placeholder:"",variant:"filled",fullWidth:!0,onChange:function(t){return e.changePublishData({title:t.target.value})},defaultValue:e.location.state?e.location.state.post.title:null}),Object(C.jsx)(De.a,{style:{textAlign:"left",marginTop:"20px",marginBottom:"10px",paddingLeft:"4px"},htmlFor:"filled-size-small",children:"Author"}),Object(C.jsx)(v.a,{label:"",id:"filled-size-small",placeholder:"",variant:"filled",fullWidth:!0,onChange:function(t){return e.changePublishData({author:t.target.value})},defaultValue:e.location.state?e.location.state.post.author:null})]}),Object(C.jsxs)("div",{className:"wa-article-desc-container",children:[Object(C.jsx)(De.a,{style:{textAlign:"left",marginBottom:"10px",paddingLeft:"4px",marginTop:"30px"},htmlFor:"filled-size-small",children:"Description"}),Object(C.jsx)("div",{className:"wa-description-container",children:Object(C.jsx)(ke.CKEditor,{editor:Ee.a,data:e.location.state?e.location.state.post.description:n,onChange:function(t,a){var i=a.getData();c(i),e.changePublishData({description:i})},config:{ckfinder:{uploadUrl:"https://proton-blog-server.herokuapp.com/upload/image",headers:{"Access-Control-Allow-Origin":"*","content-type":"multipart/form-data"}}}})})]}),Object(C.jsxs)("div",{className:"wa-article-image-container",children:[Object(C.jsxs)("div",{className:"wa-article-image-fucntions",children:[Object(C.jsx)("div",{className:"wa-article-image-button",children:Object(C.jsxs)(g.a,{variant:"contained",component:"label",size:"small",style:{maxWidth:"65%",maxHeight:"60%",height:"30px",fontSize:"8px",width:"110px"},children:["Upload Cover Image",Object(C.jsx)("input",{type:"file",hidden:!0,onChange:function(t){return function(t){""!==t.target.value&&(e.changePublishData({articleImage:t.target.files[0]}),h(URL.createObjectURL(t.target.files[0])),d(t.target.value))}(t)}})]})}),Object(C.jsx)("div",{children:Object(C.jsxs)("p",{className:"wa-article-image-path",children:[" ",o]})})]}),""!==o||e.location.state&&e.location.state.post.coverImage?Object(C.jsx)("div",{className:"wa-article-up-image-container",children:Object(C.jsx)("img",{src:b,alt:"upload",className:"wa-article-up-image"})}):null]}),Object(C.jsx)("div",{className:"wa-empty-space"})]})})})),Le=(a(215),a(216),a(127)),_e=a.n(Le),Pe=a(128),Re=a.n(Pe),Ue=a(299);function We(e){var t=e.data.map((function(t,a){var i=F;t.coverImage&&(i="https://free4store.blob.core.windows.net/blog-images/".concat(t.coverImage));var c=t.description.search("</p>"),r=t.description.slice(t.description.search("<p>"),t.description.search("</p>")+4);return c+3>100&&(r=t.description.slice(t.description.search("<p>"),100)+"...</p>"),Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsxs)("div",{className:"ya-article-content",children:[Object(C.jsx)("div",{className:"ya-article-image-container",children:Object(C.jsx)("div",{className:"ya-article-image-body",children:Object(C.jsx)("img",{src:i,alt:"article",className:"ya-article-image"})})}),Object(C.jsx)("div",{className:"ya-article-text-container",onClick:function(t){return e.articleClicked(a)},children:Object(C.jsxs)("div",{className:"ya-article-text-body",children:[Object(C.jsx)("div",{className:"ya-article-text-title",children:Object(C.jsx)("p",{children:t.title})}),Object(C.jsxs)("div",{className:"ya-article-text-desc",children:[Object(Y.a)(r),Object(C.jsx)("p",{children:"..."})]})]})}),Object(C.jsx)("div",{className:"ya-article-icons-container",children:Object(C.jsxs)("div",{className:"ya-article-icons-body",children:[Object(C.jsx)(Ue.a,{title:"Edit Article",arrow:!0,children:Object(C.jsx)(_e.a,{onClick:function(t){return e.editArticle(a)},className:"ya-article-icon-addnote"})}),Object(C.jsx)(Ue.a,{title:"Delete Article",arrow:!0,children:Object(C.jsx)(Re.a,{onClick:function(t){return e.deleteArticle(a)},className:"ya-article-icon-deletenote"})})]})})]}),e.data.length!==a+1?Object(C.jsx)(J.a,{classes:{root:"ya-divider-root"},variant:"fullWidth"}):null]},a)}));return Object(C.jsx)(C.Fragment,{children:t})}var Fe=a(284),Ge=a(288),Be=a(286),Me=a(287),ze=a(285);function He(e){var t=n.a.useState(e.toggle),a=Object(l.a)(t,2),i=a[0];a[1];return Object(C.jsx)("div",{children:Object(C.jsxs)(Fe.a,{open:i,onClose:e.cancel,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(C.jsx)(ze.a,{id:"alert-dialog-title",children:"Delete"}),Object(C.jsx)(Be.a,{children:Object(C.jsx)(Me.a,{id:"alert-dialog-description",children:e.content})}),Object(C.jsxs)(Ge.a,{children:[Object(C.jsx)(g.a,{onClick:e.cancel,color:"primary",children:"Cancel"}),Object(C.jsx)(g.a,{onClick:e.proceed,color:"primary",children:"Proceed"})]})]})})}var qe=Object(d.b)((function(e){return{publishData:e.publishData}}),(function(e){return{toggleEditing:function(t){return e({type:b,id:t})},setEditingData:function(t){return e({type:h,articleData:t})}}}))((function(e){var t=Object(i.useState)(0),a=Object(l.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)([]),s=Object(l.a)(r,2),o=s[0],d=s[1],j=Object(i.useState)({isDeleting:!1,articelIndex:null}),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(i.useState)({message:"",severity:""}),p=Object(l.a)(m,2),g=p[0],O=p[1];Object(i.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[n]),Object(i.useEffect)((function(){P.a.get("/api/article/user").then((function(e){d(e.data)})).catch((function(e){console.log(e)}))}),[g.message]);for(var v=[],x=0;x<15;x++)v.push({user:"user-".concat(x+1),title:"title-".concat(x+1),description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."});for(var f=[],y=5*n,N=Math.min(y+5,o.length),w=y;w<N;++w)f.push(o[w]);var S=null;""!==g.message&&(S=Object(C.jsx)(L,{severity:g.severity,open:!0,message:g.message,timer:"2000"}),setTimeout((function(){O({message:"",severity:""})}),2e3));var A=Object(C.jsx)("p",{style:{marginTop:"50px",fontSize:"20px"},children:"No Article Submitted Yet"});return o.length&&(A=null),Object(C.jsxs)(C.Fragment,{children:[b.isDeleting?Object(C.jsx)(He,{cancel:function(){return h({isDeleting:!1,articelIndex:null})},content:"Are you sure you wish to delete the article ?",toggle:b.isDeleting,proceed:function(){var e=5*n+b.articelIndex;P.a.delete("/api/article/delete/".concat(o[e]._id)).then((function(e){O({message:"Article deleted successfully",severity:"success"})})).catch((function(e){O({message:"".concat(e.message?e.message:"Some error occured"),severity:"error"}),console.log(e)})),h({isDeleting:!1,articelIndex:null})}}):null,Object(C.jsx)("div",{className:"ya-container",children:Object(C.jsxs)("div",{className:"ya-body",children:[Object(C.jsx)("div",{className:"ya-head",children:Object(C.jsxs)("div",{className:"ya-head-body",children:[Object(C.jsx)("div",{className:"ya-head-line",children:Object(C.jsx)("hr",{})}),Object(C.jsx)("div",{className:"ya-head-tag",children:Object(C.jsx)("h4",{children:"Your Submitted Articles"})}),Object(C.jsx)("div",{className:"ya-head-line",children:Object(C.jsx)("hr",{})})]})}),Object(C.jsx)("div",{className:"ya-article-container",children:Object(C.jsxs)("div",{className:"ya-article-body",children:[A,Object(C.jsx)(We,{editArticle:function(t){return function(t){var a=5*n+t;e.toggleEditing(o[a]._id),e.setEditingData(o[a]),e.history.push({pathname:"/writearticle",state:{post:o[a]}})}(t)},deleteArticle:function(e){return h({isDeleting:!0,articelIndex:e})},data:f,articleNumber:n,articleClicked:function(t){return function(t){var a=5*n+t;localStorage.setItem("articleId",o[a]._id),e.history.push("/viewarticle")}(t)}})]})})]})}),Object(C.jsx)("div",{className:"ya-footer",children:o.length>5?Object(C.jsx)(ee,{length:o.length,divider:5,stepperClick:function(e){c(e)}}):null}),S]})})),Je=(a(217),a(129)),Ye=a.n(Je);var Ve=Object(d.b)((function(e){return{articleData:e.articleData}}))(Object(o.g)((function(e){var t=Object(i.useState)(null),a=Object(l.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)(F),s=Object(l.a)(r,2),o=s[0],d=s[1];return Object(i.useEffect)((function(){var t=localStorage.getItem("articleId");t||e.history.goBack(),P.a.get("/api/article/id/".concat(t)).then((function(e){var t=F;e.data.coverImage&&(t="https://free4store.blob.core.windows.net/blog-images/".concat(e.data.coverImage)),c(e.data),d(t)})).catch((function(e){console.log(e)})),window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),Object(C.jsx)(C.Fragment,{children:n?Object(C.jsx)("div",{className:"va-container",children:Object(C.jsxs)("div",{className:"va-body",children:[Object(C.jsx)("div",{className:"va-article-image-container",children:Object(C.jsx)("div",{className:"va-article-image-body",children:Object(C.jsx)("img",{src:o,alt:"article",className:"va-article-image"})})}),Object(C.jsxs)("div",{className:"va-article-head-container",children:[Object(C.jsxs)("div",{className:"va-article-head-body",children:[Object(C.jsx)("div",{className:"va-article-head-title",children:Object(C.jsx)("h3",{children:n.title})}),Object(C.jsx)("div",{className:"va-article-head-date",children:Object(C.jsx)("h5",{children:K(n.date)})})]}),Object(C.jsx)("div",{className:"va-article-head-hr",children:Object(C.jsx)("hr",{})})]}),Object(C.jsx)("div",{className:"va-article-content-container",children:Object(C.jsx)("div",{className:"va-article-content-body",children:Object(C.jsx)("div",{className:"va-article-content",children:Object(C.jsx)("div",{className:"va-description-content",children:Object(Y.a)(n.description)})})})}),Object(C.jsx)("div",{className:"va-article-footer",children:Object(C.jsxs)("div",{className:"va-article-footer-body",children:[Object(C.jsx)(Ye.a,{}),Object(C.jsxs)("p",{children:[Object(C.jsx)("span",{style:{fontStyle:"italic"},children:"by "}),Object(C.jsx)("span",{style:{fontWeight:"600"},children:n.author})]})]})}),Object(C.jsx)("div",{className:"va-empty-space"})]})}):null})})));var Ke=Object(d.b)((function(e){return{publishData:e.publishData,isEditing:e.isEditing,articleId:e.articleId,isAdmin:e.isAdmin}}),(function(e){return{clearPublishData:function(){return e({type:u})},toggleEditing:function(){return e({type:b})},setAdminAccess:function(t){return e({type:m,adminAccess:t})}}}))(Object(o.g)((function(e){var t=Object(i.useState)({message:"",severity:""}),a=Object(l.a)(t,2),n=a[0],c=a[1],r=localStorage.getItem("token");P.a.defaults.headers.common["x-auth-token"]=r,Object(i.useEffect)((function(){P.a.get("/admincheck").then((function(t){e.setAdminAccess(t.data)})).catch((function(e){console.log(e)}))}),[]);var d,j,u=null;return""!==n.message&&(u=Object(C.jsx)(L,{severity:n.severity,open:!0,message:n.message,timer:"2000"}),setTimeout((function(){c((function(e){return Object(s.a)(Object(s.a)({},e),{},{message:"",severity:""})}))}),2e3)),d=Object(C.jsx)(Ie,{logout:function(){localStorage.clear(),console.log("Setting Admin to false"),e.setAdminAccess(!1)},isLogged:!!r,isAdmin:e.isAdmin,publishArticle:function(){var t=e.publishData,a=new FormData;if(Object.keys(t).forEach((function(e){a.append(e,t[e])})),console.log("POSTING->",t.description),""!==t.title&&""!==t.description){e.history.push("/landingpage");var i="publish",n="Published Successfully";e.isEditing&&(i="update/".concat(e.articleId),n="Updated Successfully",console.log("Updating with\n",t),e.toggleEditing()),P.a.post("/api/article/".concat(i),a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){c((function(e){return Object(s.a)(Object(s.a)({},e),{},{message:n,severity:"success"})}))})).catch((function(e){c((function(t){return Object(s.a)(Object(s.a)({},t),{},{message:"".concat(e.message?e.message:"Some error occured"),severity:"error"})})),console.log(e.message)}))}else c((function(e){return Object(s.a)(Object(s.a)({},e),{},{message:"Cannot publish incomplete article",severity:"error"})}))},clearPublishData:e.clearPublishData}),j=e.isAdmin?Object(C.jsxs)(o.d,{children:[Object(C.jsx)(o.b,{path:"/viewarticle",component:Ve}),Object(C.jsx)(o.b,{path:"/yourarticles",component:qe}),Object(C.jsx)(o.b,{path:"/writearticle",component:Te}),Object(C.jsx)(o.b,{path:"/landingpage",component:te}),Object(C.jsx)(o.a,{to:"/"})]}):Object(C.jsxs)(o.d,{children:[r?null:Object(C.jsx)(o.b,{path:"/authentication",component:U}),Object(C.jsx)(o.b,{path:"/viewarticle",component:Ve}),Object(C.jsx)(o.b,{path:"/landingpage",component:te}),Object(C.jsx)(o.a,{to:"/"})]}),Object(C.jsxs)("div",{className:"App",children:[Object(C.jsxs)("header",{className:"App-header",children:[d,j]}),u]})}))),$e=a(130),Qe=a(67),Xe={publishData:{title:"",author:"",description:"",articleImage:""},isEditing:!1,articleId:null,isAdmin:!1},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var a=Object.keys(t.data);return Object(s.a)(Object(s.a)({},e),{},{publishData:Object(s.a)(Object(s.a)({},e.publishData),{},Object(Qe.a)({},a,t.data[a]))});case u:return Object(s.a)(Object(s.a)({},e),{},{publishData:{title:"",description:"",articleImage:"",author:""}});case b:return console.log(t.id),Object(s.a)(Object(s.a)({},e),{},{publishData:Object(s.a)({},e.publishData),isEditing:!e.isEditing,articleId:t.id});case h:var i=t.articleData;return Object(s.a)(Object(s.a)({},e),{},{publishData:{title:i.title,author:i.author,description:i.description,articleImage:i.articleImage}});case m:return Object(s.a)(Object(s.a)({},e),{},{publishData:Object(s.a)({},e.publishData),isAdmin:t.adminAccess});default:return e}},et=localStorage.getItem("token");P.a.defaults.baseURL="https://proton-blog-server.herokuapp.com/",P.a.defaults.headers.common["x-auth-token"]=et;var tt=Object($e.a)(Ze);r.a.render(Object(C.jsx)(d.a,{store:tt,children:Object(C.jsx)(ae.a,{basename:"/",children:Object(C.jsx)(Ke,{})})}),document.getElementById("root"))}},[[218,1,2]]]);
//# sourceMappingURL=main.8f465a39.chunk.js.map